<!doctype html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4"
        crossorigin="anonymous">

    <title>Furry Friend Finder</title>
</head>

<body>
    <div class="container-fluid p-4 text-center">
        <h1>Survey Questions</h1>
    </div>
    <div class="container">
        <hr class="p-3">
        <form>
            <div class="form-group">
                <label for="newFriendName">
                    <h3>Name (required)</h3>
                </label>
                <input type="text" class="form-control" id="newFriendName" placeholder="Please enter your name, assigned to you by your human"
                    required>
            </div>
            <div class="form-group">
                <label for="photoLink">
                    <h3>Photo (required)</h3>
                </label>
                <input type="text" class="form-control" id="newPhotoLink" placeholder="Please insert a link to a picture of you and your favorite toy"
                    required>
            </div>
            <div class="form-row align-items-center">
                <div class="col-auto p-4">
                    <label class="mr-sm-2" for="q1">
                        <h5>Squeaky balls and toys are your favorite.</h5>
                    </label>
                    <select class="custom-select mr-sm-2" id="q1">
                        <option selected>Choose...</option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5(Strongly Agree)</option>
                    </select>
                </div>

            </div>
            <div class="form-row align-items-center">
                <div class="col-auto p-4">
                    <label class="mr-sm-2" for="q2">
                        <h5>You go the dog park often.</h5>
                    </label>
                    <select class="custom-select mr-sm-2" id="q2">
                        <option selected>Choose...</option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5(Strongly Agree)</option>
                    </select>
                </div>

            </div>
            <div class="form-row align-items-center">
                <div class="col-auto p-4">
                    <label class="mr-sm-2" for="q3">
                        <h5>You like to take baths.</h5>
                    </label>
                    <select class="custom-select mr-sm-2" id="q3">
                        <option selected>Choose...</option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5(Strongly Agree)</option>
                    </select>
                </div>

            </div>
            <div class="form-row align-items-center">
                <div class="col-auto p-4">
                    <label class="mr-sm-2" for="q4">
                        <h5>Playing in the mud is one of your favorite pasttimes.</h5>
                    </label>
                    <select class="custom-select mr-sm-2" id="q4">
                        <option selected>Choose...</option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5(Strongly Agree)</option>
                    </select>
                </div>

            </div>
            <div class="form-row align-items-center">
                <div class="col-auto p-4">
                    <label class="mr-sm-2" for="q5">
                        <h5>Being chased is one of your preferred ways to play.</h5>
                    </label>
                    <select class="custom-select mr-sm-2" id="q5">
                        <option selected>Choose...</option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5(Strongly Agree)</option>
                    </select>
                </div>

            </div>
            <div class="form-row align-items-center">
                <div class="col-auto p-4">
                    <label class="mr-sm-2" for="q6">
                        <h5>You like to chase other dogs.</h5>
                    </label>
                    <select class="custom-select mr-sm-2" id="q6">
                        <option selected>Choose...</option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5(Strongly Agree)</option>
                    </select>
                </div>

            </div>
            <div class="form-row align-items-center">
                <div class="col-auto p-4">
                    <label class="mr-sm-2" for="q7">
                        <h5>You frequently share your food when friends come over for playdates.</h5>
                    </label>
                    <select class="custom-select mr-sm-2" id="q7">
                        <option selected>Choose...</option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5(Strongly Agree)</option>
                    </select>
                </div>

            </div>
            <div class="form-row align-items-center">
                <div class="col-auto p-4">
                    <label class="mr-sm-2" for="q8">
                        <h5>Most of your day is spent napping.</h5>
                    </label>
                    <select class="custom-select mr-sm-2" id="q8">
                        <option selected>Choose...</option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5(Strongly Agree)</option>
                    </select>
                </div>

            </div>
            <div class="form-row align-items-center">
                <div class="col-auto p-4">
                    <label class="mr-sm-2" for="q9">
                        <h5>Swimming in lakes and ponds is a favorite hobby of yours.</h5>
                    </label>
                    <select class="custom-select mr-sm-2" id="q9">
                        <option selected>Choose...</option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5(Strongly Agree)</option>
                    </select>
                </div>

            </div>
            <div class="form-row align-items-center">
                <div class="col-auto p-4">
                    <label class="mr-sm-2" for="q10">
                        <h5>You bark incessantly to the point that your friends are annoyed.</h5>
                    </label>
                    <select class="custom-select mr-sm-2" id="q10">
                        <option selected>Choose...</option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5(Strongly Agree)</option>
                    </select>
                </div>

            </div>
            <button type="submit" class="btn btn-primary" id="add-btn" data-toggle="modal" data-target="#friendModal">Submit</button>
        </form>
    </div>

    <!-- Modal -->
    <div class="modal fade" id="friendModal" tabindex="-1" role="dialog" aria-labelledby="friendModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="friendModalLabel">Congratulations!</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <img id="friendPicture" src="" height="200" width="200">
                    <span id="message"></span>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>



    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.js" integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm"
        crossorigin="anonymous"></script>


    <script>
        $("#add-btn").on("click", function (event) {
            event.preventDefault();
            var newFriend = {
                name: $("#newFriendName")
                    .val()
                    .trim(),
                photo: $("#newPhotoLink")
                    .val()
                    .trim(),
                scores: [
                    $("#q1").val(),
                    $("#q2").val(),
                    $("#q3").val(),
                    $("#q4").val(),
                    $("#q5").val(),
                    $("#q6").val(),
                    $("#q7").val(),
                    $("#q8").val(),
                    $("#q9").val(),
                    $("#q10").val()
                ]
            };


            $.post("/api/friends", newFriend).then(function (data) {
                console.log(data);
                $("#friendPicture").attr("src", data.winningFriend.photo);
                $("#message").text("You're match is " + data.winningFriend.name)
            });


        });
    </script>
</body>

</html>